from random import *

def failist_to_dict(f:str):
    riik_pealinn = {}
    pealinn_riik = {}
    riigid = []
    file = open(f, 'r', encoding="utf-8-sig")
    for line in file:
        k, v = line.strip().split('-')
        riik_pealinn[k] = v 
        pealinn_riik[v] = k 
        riigid.append(k)
    file.close()
    return riik_pealinn, pealinn_riik, riigid

def kuvatud_pealinn(riik_pealinn, riik):
    if riik in riik_pealinn:
        return riik_pealinn[riik]
    else:
        return f"Stolitsa riiki '{riik}' ei leitud."

def kuvatud_riik(pealinn_riik, pealinn):
    if pealinn in pealinn_riik:
        return pealinn_riik[pealinn]
    else:
        return f"Riiki pealinna '{pealinn}' ei leitud."

def lisa_sissekande(riik_pealinn, pealinn_riik):
    uus_riik = input("Sisestage uue riigi nimi: ")
    uus_pealinn = input("Sisestage uue pealinna nimi: ")
    
    riik_pealinn[uus_riik] = uus_pealinn
    pealinn_riik[uus_pealinn] = uus_riik
    
    print(f"Uus sissekanne lisatud: {uus_riik} - {uus_pealinn}")

riik_pealinn, pealinn_riik, riigid = failist_to_dict("riigid_pealinnad.txt")

while True:
    valik = input("Valige, kas sisestada riik (r) vÃµi pealinn (p): ").lower()

    if valik == 'r':
        riik = input("Sisestage riigi nimi: ")
        print(kuvatud_pealinn(riik_pealinn, riik))
    elif valik == 'p':
        pealinn = input("Sisestage pealinna nimi: ")
        print(kuvatud_riik(pealinn_riik, pealinn))
    else:
        print("Vale valik! Palun valige 'r' vÃµi 'p'.")

    lisavalik = input("Kas soovite lisada uut sissekannet? (y/n): ").lower()
    if lisavalik == 'y':
        lisa_sissekande(riik_pealinn, pealinn_riik)
